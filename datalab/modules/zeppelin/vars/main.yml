---

zeppelin:
  version: "{{ zeppelin_version }}"
  download_dir: "{{ zeppelin_download_directory }}"
  install_dir: "{{ zeppelin_download_directory }}/incubator-zeppelin"
  base_dir: "{{ zeppelin_home_directory }}"
  local_dir: "{{ zeppelin_local_directory }}"
  user: '{{zeppelin_user}}'
  group: '{{zeppelin_group}}'

  prebuilt:
    package_name: "{{ zeppelin_prebuilt_package_name }}"
    file: "{{zeppelin_download_directory}}/{{zeppelin_prebuilt_file}}"
    url: "{{zeppelin_prebuilt_url}}"
    local_file: "{{ zeppelin_local_directory }}/zeppelin-{{ zeppelin_version }}-incubating.tar.gz"

  build:
    do: "{{ zeppelin_do_build }}"
    checkout: "{{ zeppelin_build_checkout }}"
    opts: "{{ zeppelin_build_opts }}"
    tarball:
      package_name: "{{ zeppelin_tarball_package_name }}"
      file: "{{zeppelin_download_directory}}/{{zeppelin_tarball_file}}"
      url: "{{zeppelin_tarball_url}}"
    git:
      url: "{{zeppelin_git_url}}"
      branch: "{{zeppelin_git_branch}}"
    distrib:
      file: "{{ zeppelin_home_directory }}/zeppelin-distribution/target/zeppelin-{{ zeppelin_version }}-incubating.tar.gz"

  service:
    server_port: "{{ zeppelin_service_server_port }}"
    server_addr: "{{ zeppelin_service_server_addr }}"
    action: "{{ zeppelin_service_action }}"

  dependencies: "{{zeppelin_dependencies}}"

  depends:
    apt:
      - git
      - curl
      - libfontconfig1-dev
      - gunzip
    yum:
      - git
      - curl
      - fontconfig-devel
      - gunzip
    npm:
      - grunt-cli
